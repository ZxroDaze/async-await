<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promises, Async & Await - API Tasks</title>
    <style>
        :root {
            /* Foundational Colors */
            --primary-bg: #1a1a1a;
            --secondary-bg: #2d2d2d;
            --tertiary-bg: #3a3a3a;
            --surface-elevated: #404040;
            
            /* Gradient Backgrounds */
            --main-gradient: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            --card-gradient: linear-gradient(135deg, rgba(45,45,45,0.8) 0%, rgba(26,26,26,0.9) 100%);
            --header-gradient: linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #2d2d2d 100%);
            --accent-gradient: linear-gradient(135deg, #ffffff 0%, #e0e0e0 100%);
            
            /* Text Hierarchy */
            --primary-text: #ffffff;
            --secondary-text: #e0e0e0;
            --tertiary-text: #b0b0b0;
            --muted-text: #888888;
            --code-text: #00ff88;
            
            /* Semantic Colors */
            --success: #4caf50;
            --success-light: #81c784;
            --warning: #ff9800;
            --warning-light: #ffb74d;
            --error: #f44336;
            --error-light: #e57373;
            --info: #2196f3;
            --info-light: #64b5f6;
            
            /* Borders */
            --primary-border: rgba(255,255,255,0.1);
            --accent-border: rgba(255,255,255,0.2);
            --success-border: rgba(76,175,80,0.3);
            --warning-border: rgba(255,152,0,0.3);
            --error-border: rgba(244,67,54,0.3);
            --info-border: rgba(33,150,243,0.3);
            
            /* Typography */
            --font-primary: 'Inter', system-ui, -apple-system, sans-serif;
            --font-code: 'Consolas', 'Monaco', 'Courier New', monospace;
            
            /* Spacing */
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 12px;
            --spacing-lg: 16px;
            --spacing-xl: 20px;
            --spacing-2xl: 24px;
            --spacing-3xl: 32px;
            --spacing-4xl: 40px;
            --spacing-5xl: 48px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-primary);
            background: var(--main-gradient);
            min-height: 100vh;
            color: var(--primary-text);
            line-height: 1.6;
            font-size: 11px;
        }

        /* Document Header Component */
        .document-header {
            background: var(--header-gradient);
            background-image: radial-gradient(circle at 20% 80%, rgba(255,255,255,0.05) 0%, transparent 50%);
            padding: var(--spacing-5xl) var(--spacing-3xl);
            margin-bottom: var(--spacing-4xl);
            border-bottom: 2px solid var(--accent-border);
            position: relative;
        }

        .document-header::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: var(--accent-gradient);
        }

        .document-header h1 {
            font-size: 32px;
            font-weight: 700;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: var(--spacing-md);
            letter-spacing: -0.025em;
        }

        .document-header .subtitle {
            color: var(--secondary-text);
            font-size: 14px;
            font-weight: 400;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--spacing-xl);
        }

        /* Section Headers Component */
        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: var(--spacing-2xl);
            padding-bottom: var(--spacing-lg);
            border-bottom: 1px solid var(--primary-border);
        }

        .section-badge {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--accent-gradient);
            color: var(--primary-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
            margin-right: var(--spacing-lg);
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-text);
        }

        /* Content Blocks Component */
        .tasks-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: var(--spacing-3xl);
            margin-bottom: var(--spacing-4xl);
        }

        .content-block {
            background: var(--card-gradient);
            border: 1px solid var(--primary-border);
            border-radius: 8px;
            padding: var(--spacing-2xl);
            position: relative;
            backdrop-filter: blur(10px);
        }

        .content-block::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--accent-gradient);
            border-radius: 8px 8px 0 0;
        }

        .content-block h2 {
            color: var(--primary-text);
            margin-bottom: var(--spacing-lg);
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .content-block h2::before {
            content: "🚀";
            font-size: 18px;
        }

        .content-block p {
            color: var(--secondary-text);
            margin-bottom: var(--spacing-xl);
            font-size: 12px;
            line-height: 1.6;
        }

        /* Interactive Elements */
        .run-btn {
            background: var(--accent-gradient);
            color: var(--primary-bg);
            border: none;
            padding: var(--spacing-md) var(--spacing-xl);
            border-radius: 4px;
            cursor: pointer;
            font-size: 11px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-right: var(--spacing-md);
            font-family: var(--font-primary);
        }

        .run-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(255, 255, 255, 0.2);
        }

        .run-btn:active {
            transform: translateY(0);
        }

        /* Status Badges Component */
        .status-indicator {
            padding: var(--spacing-xs) var(--spacing-md);
            border-radius: 16px;
            font-size: 10px;
            font-weight: 600;
            margin-left: var(--spacing-md);
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-xs);
        }

        .status-success {
            background: var(--success);
            color: #ffffff;
            border: 1px solid var(--success-border);
        }

        .status-loading {
            background: var(--warning);
            color: #ffffff;
            border: 1px solid var(--warning-border);
        }

        .status-error {
            background: var(--error);
            color: #ffffff;
            border: 1px solid var(--error-border);
        }

        /* Command Blocks Component */
        .console-output {
            background: var(--primary-bg);
            color: var(--code-text);
            padding: var(--spacing-xl);
            border-radius: 4px;
            font-family: var(--font-code);
            font-size: 10px;
            margin-top: var(--spacing-xl);
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
            border-left: 3px solid var(--info);
            border: 1px solid var(--primary-border);
            position: relative;
        }

        .console-output::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, var(--info) 0%, var(--success) 50%, var(--warning) 100%);
        }

        .console-output h3 {
            color: var(--info);
            margin-bottom: var(--spacing-md);
            font-family: var(--font-primary);
            font-size: 12px;
            font-weight: 600;
        }

        /* File Structure Display */
        .file-structure {
            background: var(--tertiary-bg);
            padding: var(--spacing-lg);
            border-radius: 4px;
            margin: var(--spacing-md) 0;
            font-family: var(--font-code);
            font-size: 10px;
            color: var(--secondary-text);
            border: 1px solid var(--primary-border);
        }

        /* Observation Box Component */
        .observation-box {
            background: var(--secondary-bg);
            border-left: 3px solid var(--info);
            padding: var(--spacing-xl);
            margin: var(--spacing-xl) 0;
            border-radius: 0 4px 4px 0;
            border: 1px solid var(--primary-border);
            border-left: 3px solid var(--info);
        }

        .observation-box h2 {
            color: var(--primary-text);
            font-size: 14px;
            margin-bottom: var(--spacing-lg);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .observation-box p {
            color: var(--secondary-text);
            font-size: 11px;
            margin-bottom: var(--spacing-md);
        }

        .observation-box em {
            color: var(--muted-text);
            font-style: italic;
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 12px;
            height: 12px;
            border: 2px solid rgba(255,255,255,.2);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Footer Styling */
        .footer {
            text-align: center;
            background: var(--card-gradient);
            padding: var(--spacing-xl);
            border-radius: 4px;
            border: 1px solid var(--primary-border);
            backdrop-filter: blur(10px);
            margin-top: var(--spacing-4xl);
        }

        .footer p {
            color: var(--muted-text);
            margin: 0;
            font-size: 11px;
        }

        /* Visual Display Styles */
        .pokemon-display, .cat-display {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: var(--spacing-xl);
            margin: var(--spacing-xl) 0;
            padding: var(--spacing-lg);
            background: var(--secondary-bg);
            border-radius: 4px;
            border: 1px solid var(--primary-border);
        }

        .pokemon-image-container, .cat-gif-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .placeholder-cat {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 300px;
            height: 200px;
            background: var(--tertiary-bg);
            border: 2px dashed var(--primary-border);
            border-radius: 4px;
            color: var(--muted-text);
        }

        .cat-icon {
            font-size: 48px;
            margin-bottom: var(--spacing-md);
        }

        .data-card {
            background: var(--tertiary-bg);
            padding: var(--spacing-lg);
            border-radius: 4px;
            border: 1px solid var(--primary-border);
        }

        .data-card h3 {
            color: var(--primary-text);
            font-size: 14px;
            margin-bottom: var(--spacing-md);
            font-weight: 600;
        }

        .data-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: var(--spacing-sm);
            padding: var(--spacing-xs) 0;
            border-bottom: 1px solid var(--primary-border);
        }

        .data-row:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .data-label {
            color: var(--secondary-text);
            font-weight: 500;
            font-size: 11px;
        }

        .data-value {
            color: var(--primary-text);
            font-weight: 600;
            font-size: 11px;
            text-transform: capitalize;
        }

        .url-container {
            display: flex;
            gap: var(--spacing-md);
            align-items: center;
        }

        .copy-btn {
            background: var(--info);
            color: white;
            border: none;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: 4px;
            cursor: pointer;
            font-size: 10px;
            font-weight: 600;
            transition: all 0.2s ease;
            white-space: nowrap;
        }

        .copy-btn:hover {
            background: var(--info-light);
            transform: translateY(-1px);
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .tasks-container {
                grid-template-columns: 1fr;
                gap: var(--spacing-2xl);
            }
            
            .document-header {
                padding: var(--spacing-3xl) var(--spacing-xl);
            }
            
            .document-header h1 {
                font-size: 24px;
            }
            
            .container {
                padding: var(--spacing-lg);
            }
            
            .content-block {
                padding: var(--spacing-xl);
            }

            .pokemon-display, .cat-display {
                grid-template-columns: 1fr;
                gap: var(--spacing-lg);
            }

            .placeholder-cat {
                width: 100%;
                max-width: 300px;
            }
        }

        /* Print Styles */
        @media print {
            body {
                background: white;
                color: black;
            }
            
            .document-header {
                background: white;
                color: black;
                border-bottom: 2px solid black;
            }
            
            .content-block {
                background: white;
                border: 1px solid black;
            }
            
            .console-output {
                background: #f5f5f5;
                color: black;
                border-left: 3px solid black;
            }
        }
    </style>
</head>
<body>
    <!-- Document Header Component -->
    <div class="document-header">
        <h1>Promises, Async & Await Tasks</h1>
        <p class="subtitle">Demonstrating API calls using different JavaScript patterns</p>
    </div>

    <div class="container">
        <!-- Section Header Component -->
        <div class="section-header">
            <div class="section-badge">01</div>
            <h2 class="section-title">API Implementation Tasks</h2>
        </div>

        <!-- Content Blocks Component -->
        <div class="tasks-container">
            <div class="content-block">
                <h2>Pokemon API Integration</h2>
                <p>Fetching Lucario data using traditional promise chains with .then() and .catch() methods. This demonstrates the foundational approach to handling asynchronous operations in JavaScript.</p>
                
                <!-- Pokemon Visual Display -->
                <div class="pokemon-display">
                    <div class="pokemon-image-container">
                        <img id="pokemon-sprite" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/448.png" alt="Lucario" style="width: 150px; height: 150px; opacity: 0.3; transition: opacity 0.3s ease;">
                    </div>
                    <div class="pokemon-data" id="pokemon-data" style="display: none;">
                        <div class="data-card">
                            <h3>Pokemon Information</h3>
                            <div class="data-row">
                                <span class="data-label">Name:</span>
                                <span class="data-value" id="pokemon-name">-</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Weight:</span>
                                <span class="data-value" id="pokemon-weight">-</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Ability:</span>
                                <span class="data-value" id="pokemon-ability">-</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button class="run-btn" onclick="runPokemonTask()">Execute Pokemon Task</button>
                <span id="pokemon-status" class="status-indicator" style="display: none;"></span>
                <div id="pokemon-output" class="console-output" style="display: none;">
                    <h3>Console Output</h3>
                    <div id="pokemon-console"></div>
                </div>
            </div>

            <div class="content-block">
                <h2>Cat GIF API Integration</h2>
                <p>Fetching random cat GIF URL using modern async/await syntax for cleaner, more readable code. This showcases the evolution of asynchronous JavaScript patterns.</p>
                
                <!-- Cat GIF Visual Display -->
                <div class="cat-display">
                    <div class="cat-gif-container">
                        <div class="placeholder-cat" id="cat-placeholder">
                            <div class="cat-icon">🐱</div>
                            <p>Random Cat GIF will appear here</p>
                        </div>
                        <img id="cat-gif" style="display: none; max-width: 300px; max-height: 200px; border-radius: 4px; border: 2px solid var(--accent-border);">
                    </div>
                    <div class="cat-url-display" id="cat-url-display" style="display: none;">
                        <div class="data-card">
                            <h3>Fetched GIF URL</h3>
                            <div class="url-container">
                                <input type="text" id="cat-url-input" readonly style="width: 100%; background: var(--tertiary-bg); border: 1px solid var(--primary-border); color: var(--secondary-text); padding: 8px; border-radius: 4px; font-family: var(--font-code); font-size: 10px;">
                                <button class="copy-btn" onclick="copyToClipboard()">Copy URL</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button class="run-btn" onclick="runCatTask()">Execute Cat GIF Task</button>
                <span id="cat-status" class="status-indicator" style="display: none;"></span>
                <div id="cat-output" class="console-output" style="display: none;">
                    <h3>Console Output</h3>
                    <div id="cat-console"></div>
                </div>
            </div>
        </div>
        <div class="footer">
            <p>💻  Built For the Purposes of Demonstration Only | Lucario is Awesome</p>
        </div>
    </div>

    <script>
        // Enhanced console logging for visual output
        function logToDiv(divId, message, isError = false) {
            const div = document.getElementById(divId);
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = `[${timestamp}] ${message}\n`;
            div.innerHTML += logEntry;
            div.scrollTop = div.scrollHeight;
            
            // Also log to browser console
            if (isError) {
                console.error(message);
            } else {
                console.log(message);
            }
        }

        // Task 1: Pokemon API with Promises
        function runPokemonTask() {
            const outputDiv = document.getElementById('pokemon-output');
            const consoleDiv = document.getElementById('pokemon-console');
            const statusSpan = document.getElementById('pokemon-status');
            const pokemonSprite = document.getElementById('pokemon-sprite');
            const pokemonData = document.getElementById('pokemon-data');
            const pokemonName = document.getElementById('pokemon-name');
            const pokemonWeight = document.getElementById('pokemon-weight');
            const pokemonAbility = document.getElementById('pokemon-ability');
            
            // Reset and show output
            consoleDiv.innerHTML = '';
            outputDiv.style.display = 'block';
            statusSpan.style.display = 'inline-flex';
            statusSpan.className = 'status-indicator status-loading';
            statusSpan.innerHTML = '<span class="loading"></span>Processing...';
            
            // Reset visual displays
            pokemonData.style.display = 'none';
            pokemonSprite.style.opacity = '0.3';
            pokemonSprite.classList.add('pulse');
            
            logToDiv('pokemon-console', "Initiating Pokemon API request using Promise chains...");
            logToDiv('pokemon-console', "Target: Lucario (Fighting/Steel type) - Data retrieval in progress");

            // Using fetch with promises to get Pokemon data
            fetch("https://pokeapi.co/api/v2/pokemon/lucario/")
                .then((response) => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response.json();
                })
                .then((pokemonDataResponse) => {
                    // Extract and display the required information
                    logToDiv('pokemon-console', "\n=== Pokemon Data Analysis ===");
                    logToDiv('pokemon-console', `Species Name: ${pokemonDataResponse.name}`);
                    logToDiv('pokemon-console', `Weight Measurement: ${pokemonDataResponse.weight}`);
                    
                    // Get the first ability from the abilities array
                    const firstAbility = pokemonDataResponse.abilities[0].ability.name;
                    logToDiv('pokemon-console', `Primary Ability: ${firstAbility}`);
                    
                    logToDiv('pokemon-console', "=== Data Processing Complete ===\n");
                    logToDiv('pokemon-console', `✅ Successfully processed ${pokemonDataResponse.name} dataset`);
                    
                    // Update visual display
                    pokemonSprite.style.opacity = '1';
                    pokemonSprite.classList.remove('pulse');
                    pokemonName.textContent = pokemonDataResponse.name;
                    pokemonWeight.textContent = pokemonDataResponse.weight;
                    pokemonAbility.textContent = firstAbility;
                    pokemonData.style.display = 'block';
                    pokemonData.classList.add('fade-in');
                    
                    // Update status
                    statusSpan.className = 'status-indicator status-success';
                    statusSpan.textContent = 'Completed';
                })
                .catch((error) => {
                    logToDiv('pokemon-console', `❌ API Request Failed: ${error.message}`, true);
                    logToDiv('pokemon-console', "Network connectivity or API endpoint verification required");
                    
                    // Reset visual state
                    pokemonSprite.style.opacity = '0.3';
                    pokemonSprite.classList.remove('pulse');
                    pokemonData.style.display = 'none';
                    
                    // Update status
                    statusSpan.className = 'status-indicator status-error';
                    statusSpan.textContent = 'Failed';
                });

            // This demonstrates asynchronous behavior
            logToDiv('pokemon-console', "⚡ Non-blocking execution: This message processes during API call");
        }

        // Task 2: Cat GIF API with Async/Await
        async function runCatTask() {
            const outputDiv = document.getElementById('cat-output');
            const consoleDiv = document.getElementById('cat-console');
            const statusSpan = document.getElementById('cat-status');
            const catGif = document.getElementById('cat-gif');
            const catPlaceholder = document.getElementById('cat-placeholder');
            const catUrlDisplay = document.getElementById('cat-url-display');
            const catUrlInput = document.getElementById('cat-url-input');
            
            // Reset and show output
            consoleDiv.innerHTML = '';
            outputDiv.style.display = 'block';
            statusSpan.style.display = 'inline-flex';
            statusSpan.className = 'status-indicator status-loading';
            statusSpan.innerHTML = '<span class="loading"></span>Processing...';
            
            // Reset visual displays
            catGif.style.display = 'none';
            catPlaceholder.style.display = 'flex';
            catUrlDisplay.style.display = 'none';
            catPlaceholder.classList.add('pulse');
            
            logToDiv('cat-console', "Executing Cat GIF API request with async/await pattern...");
            logToDiv('cat-console', "Modern syntax implementation - Enhanced readability and error handling");

            try {
                logToDiv('cat-console', "Establishing connection to The Cat API endpoint...");
                
                // Fetch the cat GIF from the API (using HTTPS for security)
                const response = await fetch("https://api.thecatapi.com/v1/images/search?mime_types=gif");
                
                // Check if the response is successful
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                // Parse the JSON response to get the image data
                const catData = await response.json();
                
                // Extract the image URL from the response
                const imageUrl = catData[0].url;
                
                logToDiv('cat-console', "\n=== Media Resource Retrieved ===");
                logToDiv('cat-console', imageUrl);
                logToDiv('cat-console', "=== Resource Processing Complete ===\n");
                
                logToDiv('cat-console', "✅ Cat GIF URL successfully obtained and validated");
                logToDiv('cat-console', "🌐 Media accessible via direct URL navigation");
                
                // Update visual display
                catPlaceholder.style.display = 'none';
                catPlaceholder.classList.remove('pulse');
                catGif.src = imageUrl;
                catGif.style.display = 'block';
                catGif.classList.add('fade-in');
                catUrlInput.value = imageUrl;
                catUrlDisplay.style.display = 'block';
                catUrlDisplay.classList.add('fade-in');
                
                // Update status
                statusSpan.className = 'status-indicator status-success';
                statusSpan.textContent = 'Completed';
                
            } catch (error) {
                logToDiv('cat-console', `❌ API Request Failed: ${error.message}`, true);
                logToDiv('cat-console', "Network connectivity verification required - Please retry");
                
                // Reset visual state
                catPlaceholder.classList.remove('pulse');
                
                // Update status
                statusSpan.className = 'status-indicator status-error';
                statusSpan.textContent = 'Failed';
            }

            // Demonstrating that code continues to run (asynchronous behavior)
            logToDiv('cat-console', "⚡ Immediate execution: Code continues during async operations");
            logToDiv('cat-console', "📝 Technical Note: Async/await provides superior code readability over Promise chains");
        }

        // Utility function for copying URL to clipboard
        function copyToClipboard() {
            const urlInput = document.getElementById('cat-url-input');
            urlInput.select();
            urlInput.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(urlInput.value).then(() => {
                const copyBtn = document.querySelector('.copy-btn');
                const originalText = copyBtn.textContent;
                copyBtn.textContent = 'Copied!';
                copyBtn.style.background = 'var(--success)';
                setTimeout(() => {
                    copyBtn.textContent = originalText;
                    copyBtn.style.background = 'var(--info)';
                }, 2000);
            });
        }

        // Application initialization
        window.addEventListener('load', function() {
            console.log("🚀 Professional API Demonstration Platform Initialized");
            console.log("📊 Dual output logging: Browser console + Visual interface active");
            console.log("⚡ Ready for Promise and Async/Await pattern demonstrations");
        });
    </script>
</body>
</html>